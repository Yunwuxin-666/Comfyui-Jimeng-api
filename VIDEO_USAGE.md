# 即梦视频生成使用指南

## 功能介绍

即梦视频生成节点支持使用火山引擎的即梦API生成高质量视频。

### 支持的模型

1. **doubao-seedance-1-0-pro-250528**（默认）
   - 全功能专业模型
   - 支持所有生成模式
   - 生成质量最高

2. **doubao-seedance-1-0-lite-t2v-250428**
   - 轻量级文生视频模型
   - 仅支持文本生成视频
   - 生成速度更快，成本更低

3. **doubao-seedance-1-0-lite-i2v-250428**
   - 轻量级图生视频模型
   - 支持图生视频和首尾帧控制
   - 必须提供至少一张输入图片

### 生成模式

1. **文生视频**
   - 仅需输入文本提示词
   - 支持模型：pro、lite-t2v

2. **图生视频**
   - 输入首帧图片 + 文本提示词
   - 支持模型：pro、lite-i2v

3. **首尾帧控制**
   - 输入首帧 + 尾帧图片
   - 生成平滑过渡视频
   - 支持模型：pro、lite-i2v

## 快速开始

### 1. 准备工作
- 确保已获取火山引擎API Key
- 准备好您想要生成的视频描述
- （图生视频）准备一张输入图片

### 2. 基本使用流程

#### 文生视频

1. **添加视频生成节点**
   - 右键 -> Add Node -> 即梦AI生成 -> 即梦视频生成

2. **配置参数**
   - **prompt**: 输入详细的视频描述
   - **api_key**: 输入您的火山引擎API Key
   - **model_selection**: 选择使用的模型
   - **duration**: 选择视频时长（5秒或10秒）
   - **ratio**: 选择视频比例
   - **watermark**: 选择是否添加水印
   - **seed**: 设置随机种子（可选）

3. **添加预览/保存节点**
   - 方式一：使用即梦视频预览节点
     - 右键 -> Add Node -> 即梦AI生成 -> 即梦视频预览
     - 连接视频生成节点的frames输出到预览节点
   - 方式二：使用ComfyUI内置视频保存节点
     - 右键 -> Add Node -> Video -> Save Video
     - 连接视频生成节点的frames输出到视频保存节点
     - 帧率信息会从fps输出获取

4. **运行生成**
   - 点击 Queue Prompt 开始生成
   - 等待视频生成完成（通常需要1-3分钟）

#### 图生视频

1. **添加图片加载节点**
   - 右键 -> Add Node -> Image -> Load Image
   - 选择您要转换为视频的图片

2. **添加视频生成节点**
   - 右键 -> Add Node -> 即梦AI生成 -> 即梦视频生成
   - 将Load Image的IMAGE输出连接到视频生成节点的image输入

3. **配置参数**
   - **prompt**: 描述图片如何动起来
   - **api_key**: 输入您的火山引擎API Key
   - 其他参数同文生视频

4. **运行生成**
   - 点击 Queue Prompt 开始生成
   - 图片会自动转换为base64格式上传

#### 首尾帧控制视频

1. **添加两个图片加载节点**
   - 第一个Load Image：加载首帧图片
   - 第二个Load Image：加载尾帧图片

2. **添加视频生成节点**
   - 右键 -> Add Node -> 即梦AI生成 -> 即梦视频生成
   - 将第一个Load Image连接到image输入（首帧）
   - 将第二个Load Image连接到end_image输入（尾帧）

3. **配置参数**
   - **prompt**: 描述首尾帧之间的过渡动作
   - 其他参数同上

4. **运行生成**
   - 生成的视频将平滑过渡从首帧到尾帧

## 参数详解

### 必需参数

- **prompt**: 
  - 视频描述文本
  - 越详细越好，包括场景、动作、镜头运动等
  - 示例：
    - "镜头缓慢推进，展现一片宁静的森林，阳光透过树叶洒下斑驳的光影"
    - "俯瞰视角，城市夜景，车流穿梭，霓虹闪烁"
    - "一只蝴蝶在花丛中飞舞，特写镜头，背景虚化"

- **api_key**: 
  - 火山引擎API密钥
  - 在[火山引擎控制台](https://console.volcengine.com/)获取

- **model_selection**:
  - doubao-seedance-1-0-pro-250528: 当前仅支持此模型

- **duration**: 
  - 5: 生成5秒视频
  - 10: 生成10秒视频

- **ratio**: 
  - 21:9: 超宽屏格式
  - 16:9: 横屏格式，适合电脑/电视播放
  - 4:3: 标准格式
  - 1:1: 正方形格式，适合社交媒体
  - 3:4: 竖版标准格式
  - 9:16: 竖屏格式，适合手机/短视频平台
  - 9:21: 超高竖版格式
  - keep_ratio: 保持原图比例（仅图生视频可用）
  - adaptive: 自适应，由AI决定最佳比例

- **watermark**:
  - false: 不添加水印（默认）
  - true: 添加水印

### 可选参数

- **image**:
  - 首帧图片（IMAGE类型）
  - 用于图生视频和首尾帧控制模式
  - 不输入则为文生视频模式
  - 图片会自动转换为base64格式

- **end_image**:
  - 尾帧图片（IMAGE类型）
  - 用于首尾帧控制模式
  - 与image一起使用时生成过渡视频
  - 图片会自动转换为base64格式

- **seed**: 
  - 随机种子，用于生成可重现的结果
  - -1 表示随机
  - 有效范围：0-2147483647

## 提示词技巧

### 1. 基本结构
```
[场景描述] + [主体动作] + [镜头运动] + [氛围描述]
```

### 2. 常用镜头术语
- **镜头运动**：推进、拉远、平移、环绕、俯拍、仰拍
- **镜头类型**：特写、中景、远景、全景
- **转场效果**：淡入、淡出、切换

### 3. 示例提示词

#### 文生视频示例

**风景类**：
```
黄昏时分，镜头从海面缓缓升起，展现壮丽的日落景象，海鸥飞过画面，波光粼粼
```

**人物类**：
```
年轻女孩在咖啡馆窗边阅读，镜头缓慢推进，窗外雨滴滑落，温暖的灯光照在她的脸上
```

**动物类**：
```
一只金毛犬在草地上奔跑，慢镜头特写，阳光照耀，毛发飘动，充满活力
```

**科幻类**：
```
未来城市夜景，飞行汽车穿梭在高楼之间，霓虹灯闪烁，镜头跟随一辆飞车穿越城市
```

#### 图生视频示例

**人物动作**：
```
人物缓缓转头看向镜头，微笑，眨眼，头发随风飘动
```

**物体运动**：
```
镜头缓慢推进，物体旋转360度，光影变化，展现细节
```

**场景变化**：
```
时间流逝，从白天到黄昏，光线变化，云彩流动
```

**表情变化**：
```
人物表情从严肃逐渐转为微笑，眼神变得温柔
```

#### 首尾帧控制示例

**角色动作**：
```
角色从站立姿势平滑过渡到坐下，动作自然流畅
```

**表情转换**：
```
从微笑表情自然过渡到惊讶表情，眼睛逐渐睁大，嘴巴慢慢张开
```

**场景变换**：
```
从白天场景渐变到夜晚，光线逐渐变暗，灯光依次亮起
```

**物体变形**：
```
物体从球形逐渐变形为立方体，保持体积不变，表面光滑过渡
```

## 高级技巧

### 1. 提升生成质量
- 使用专业的视频术语
- 描述具体的光线条件
- 添加情绪和氛围描述
- 指定具体的镜头运动

### 2. 风格控制
可以在提示词中添加风格描述：
- 电影感、纪录片风格、动画风格
- 色调：暖色调、冷色调、黑白
- 质感：胶片质感、数字风格、复古风

### 3. 避免的问题
- 避免过于复杂的场景切换
- 不要在短视频中描述太多动作
- 避免违反物理规律的描述

## 常见问题

### Q1: 视频生成失败
**可能原因**：
- 提示词包含不支持的内容
- API Key无效或额度不足
- 网络连接问题
- （图生视频）图片格式不支持或过大

**解决方案**：
- 简化提示词，避免敏感内容
- 检查API Key是否正确
- 确保网络连接稳定
- （图生视频）使用常见图片格式（JPG、PNG），控制图片大小

### Q2: 生成效果不理想
**优化建议**：
- 提供更详细的描述
- 使用固定种子多次尝试
- 调整视频比例和时长
- 参考成功案例的提示词结构
- （图生视频）确保提示词与图片内容相关
- （图生视频）选择合适的比例（如keep_ratio保持原图比例）

### Q3: 生成速度慢
**说明**：
- 视频生成是计算密集型任务
- 5秒视频通常需要1-2分钟
- 10秒视频可能需要2-3分钟
- 高峰期可能会更慢

## 最佳实践

1. **先简后繁**：从简单场景开始，逐步增加复杂度
2. **记录成功案例**：保存效果好的提示词和种子值
3. **批量尝试**：使用不同的种子值生成多个版本
4. **合理预期**：AI视频生成仍在发展中，保持合理期待

## 注意事项

1. **内容审核**：生成内容需符合相关法律法规
2. **版权问题**：避免使用版权保护的角色或品牌
3. **费用控制**：注意API调用次数，合理使用

## 相关链接

- [火山引擎控制台](https://console.volcengine.com/)
- [API文档](https://www.volcengine.com/docs/82379/1520757)
- [模型介绍](https://www.volcengine.com/docs/82379/1366799) 