# 即梦节点版本历史

## v3.1.1
### 修复
- 修复了深度思考模式下 thinking 参数格式错误的问题
  - 将 thinking 参数从布尔值改为对象格式 `{"enabled": true/false}`
  - 符合火山引擎 API 的要求

## v3.0.0 
- 🎯 重大更新：新增对话节点功能
  - 使用火山引擎最新的doubao-seed-1.6模型
  - 支持深度思考模式（thinking/non-thinking/auto）
  - 支持多模态输入：文本、图像、视频
  - 支持对话历史管理和上下文记忆
- 新增节点：
  - DoubaoLLM：豆包大语言模型节点
  - DoubaoLLMHistory：豆包对话历史管理节点
- 特性支持：
  - 最大256k上下文长度
  - 视频自动关键帧提取（最多8帧）
  - 可配置最大输出16k tokens
  - 支持流式和非流式输出
- 新增文档和示例：
  - CHAT_USAGE.md：对话节点使用指南
  - chat_basic_workflow.json：基础对话示例
  - chat_image_workflow.json：图像理解示例
  - chat_video_workflow.json：视频理解示例

## v2.6.0
- 🎬 新增两个lite模型支持：
  - doubao-seedance-1-0-lite-t2v-250428：轻量级文生视频模型
  - doubao-seedance-1-0-lite-i2v-250428：轻量级图生视频模型
- 添加模型使用验证：
  - t2v模型仅支持文生视频
  - i2v模型仅支持图生视频和首尾帧控制
  - pro模型支持所有生成模式
- 更新节点显示名称为"即梦视频生成"

## v2.5.1 
- 修复：为首尾帧图片添加正确的role字段
  - 首帧图片role设置为"first_frame"
  - 尾帧图片role设置为"last_frame"
  - 符合API规范要求

## v2.5.0 
- 🎬 重大更新：支持首尾帧控制的视频生成
- 🖼️ 新功能：可选的end_image参数，用于指定视频尾帧
- 🎯 三种生成模式：
  - 文生视频：仅使用文本提示词
  - 图生视频：使用首帧图片 + 文本
  - 首尾帧控制：使用首帧 + 尾帧 + 文本，生成平滑过渡视频
- 📚 新增：首尾帧控制示例工作流（keyframe_video_workflow.json）
- 🔧 优化：改进图片处理逻辑，支持多图片输入

## v2.4.0
- 🎉 新增：支持图生视频功能
- 🖼️ 特性：可选的图片输入，不输入图片时为文生视频，输入图片时为图生视频
- 🔧 改进：图片自动转换为base64格式上传
- 📐 新增：更多视频比例选项（21:9, 4:3, 3:4, 9:21, keep_ratio）
- 📚 新增：图生视频示例工作流（image2video_workflow.json）

## v2.3.1
- 🐛 修复：修复参数传递错误导致的 "unexpected keyword argument" 问题
- 🔧 简化：模型选择暂时仅保留 doubao-seedance-1-0-pro-250528
- 📝 说明：后续可根据需要添加更多模型选项

## v2.3.0
- 🎯 新增：模型选择功能（model_selection 参数）
- 💧 新增：水印控制开关，可选择是否添加水印
- 🔧 优化：参数命名规范化（model_selection, watermark）

## v2.2.0
- 🎬 重大更新：视频生成节点现在输出视频帧序列
- ✨ 新功能：自动下载和提取视频帧
- 🔧 改进：支持直接连接到ComfyUI视频保存节点
- 📊 输出增强：提供帧数、帧率等元数据
- 🖼️ 格式支持：输出标准IMAGE格式，兼容所有视频处理节点

## v2.1.0
- 🔧 重构：简化视频生成流程，无需创建推理接入点
- ✨ 优化：直接使用模型ID调用API
- 🎯 专注：先实现文生视频功能，后续迭代图生视频
- 🚀 改进：使用专用的视频生成API端点
- 📝 更新：完善文生视频的提示词指南

## v2.0.0
- 🎉 新增：视频生成功能
- ✨ 新增：即梦视频生成节点（SeedreamVideoGenerator）
- ✨ 新增：即梦视频预览节点（SeedreamVideoPreview）
- 📚 新增：视频生成使用指南（VIDEO_USAGE.md）
- 📚 新增：视频生成示例工作流（video_example_workflow.json）

## v1.0.4
- 📦 精简功能：移除批量生成节点
- 🎯 专注单一功能：即梦图片生成
- 🔧 优化代码结构
- 🚀 提升用户体验

## v1.0.3
- 🎨 进一步简化界面
- ✨ 移除图片数量参数，默认生成1张
- 🚀 优化用户体验

## v1.0.2
- 🐛 修复：seed参数超出有效范围的问题
- 📝 改进：限制seed范围为0-2147483647
- 🔧 优化：增强了seed参数的验证和处理逻辑
- 📚 新增：test_api.py测试脚本

## v1.0.1
- 🐛 修复：api_endpoint参数接收到False值的问题
- 📝 改进：增强了参数类型检查
- 🔧 优化：改进调试输出信息

## v1.0.0
- 🎉 初始版本
- ✨ 支持调用火山引擎即梦API生成图片
- ✨ 预配置推理接入点ID：ep-20250630114442-m8sjm
- ✨ 调试模式 